{"remainingRequest":"/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/node_modules/babel-loader/lib/index.js!/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/src/components/User/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/src/components/User/Index.vue","mtime":1670932421021},{"path":"/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/babel.config.js","mtime":1670932421008},{"path":"/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1648128532195},{"path":"/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/node_modules/babel-loader/lib/index.js","mtime":1648128535778},{"path":"/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1648128532195},{"path":"/Users/Roy/Documents/开发/1.已上线/signin/Frontend/signin-helper-frontend/node_modules/vue-loader/lib/index.js","mtime":1648128535013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGJhY2tFbmRVcmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkw7CmltcG9ydCBuUHJvZ3Jlc3MgZnJvbSAibnByb2dyZXNzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VySW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYXZpX2JhcjogMCwKICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgZ3JvdXA6IDAsCiAgICAgIGJhZGdlOiB0cnVlLAogICAgICBkaWFsb2c6IHsKICAgICAgICBvcGVuOiBmYWxzZSwKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgdGV4dDogIiIKICAgICAgfSwKICAgICAgY2hhbmdlX25vdGlfZGlhbG9nOiBmYWxzZSwKICAgICAgYWN0UXVlcnlEaWFsb2c6IGZhbHNlLAogICAgICBiaW5kX3dlY2hhdF9kaWFsb2c6IGZhbHNlLAogICAgICBzdHNfZGlhbG9nOiBmYWxzZSwKICAgICAgdXBsb2FkX3ByZXZpZXc6IHsKICAgICAgICBvcGVuOiBmYWxzZSwKICAgICAgICBpdGVtOiBudWxsCiAgICAgIH0sCiAgICAgIGFjdF9pbmZvOiB7CiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgbGlzdDogW3sKICAgICAgICAgIGFjdF90b2tlbjogIiIsCiAgICAgICAgICBhY3RfbmFtZTogIiIsCiAgICAgICAgICBhY3RfYW5ub3VuY2VtZW50OiAiIiwKICAgICAgICAgIGFjdF9waWM6ICIiLAogICAgICAgICAgYWN0X3R5cGU6IDAsCiAgICAgICAgICBub3RpX2VuYWJsZWQ6IDAsCiAgICAgICAgICBiZWdpbl90aW1lOiAiIiwKICAgICAgICAgIGVuZF90aW1lOiAiIiwKICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgIHN0YXRpc3RpYzoge30sCiAgICAgICAgICBmaWxlX29wdGlvbnM6IHsKICAgICAgICAgICAgYWxsb3dfZXh0OiAiIiwKICAgICAgICAgICAgbWF4X3NpemU6ICIiLAogICAgICAgICAgICBub3RlOiAiIgogICAgICAgICAgfSwKICAgICAgICAgIHVwbG9hZDogewogICAgICAgICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogIiIsCiAgICAgICAgICAgIGltZ191cmw6ICIiLAogICAgICAgICAgICBkb3dubG9hZF91cmw6ICIiCiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSwKICAgICAgc2lnbl9idG46IHsKICAgICAgICBkaXNhYmxlZDogdHJ1ZSwKICAgICAgICB0ZXh0OiAi562+5YiwIgogICAgICB9LAogICAgICBzdHM6IHsKICAgICAgICBkb25lOiAwLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHVuZmluaXNoZWRfbGlzdDogW10sCiAgICAgICAgZmluaXNoZWRfbGlzdDogW10KICAgICAgfSwKICAgICAgbXlJbmZvOiB7CiAgICAgICAgdXNlcl9pZDogMCwKICAgICAgICB1c2VyX25hbWU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBjbGFzc19uYW1lOiAiIiwKICAgICAgICBjbGFzc19jb2RlOiAiIiwKICAgICAgICBpc19hZG1pbjogMAogICAgICB9LAogICAgICBteUFjdExvZzogewogICAgICAgIHRvdGFsOiAwCiAgICAgIH0sCiAgICAgIGxvZ19wYWdlOiAxLAogICAgICBub3RpX3R5cGU6ICJub25lIiwKICAgICAgYWN0UXVlcnk6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBhbm5vdW5jZW1lbnQ6ICIiLAogICAgICAgIGNoZWVyX3RleHQ6ICIiLAogICAgICAgIHBpYzogIiIsCiAgICAgICAgYmVnaW5fdGltZTogIiIsCiAgICAgICAgZW5kX3RpbWU6ICIiLAogICAgICAgIGNyZWF0ZV90aW1lOiAiIiwKICAgICAgICB1cGRhdGVfdGltZTogIiIsCiAgICAgICAgY3JlYXRlX2J5OiAiIgogICAgICB9LAogICAgICB3ZWNoYXRfYmluZF9kYXRhOiB7CiAgICAgICAgdGltZXI6IGZhbHNlLAogICAgICAgIHFyY29kZV91cmw6ICIiLAogICAgICAgIHRva2VuOiAiIgogICAgICB9LAogICAgICB2ZXJzaW9uOiAiRGV2RW52IiwKICAgICAgY3NyZkhlYWRlcjoge30sCiAgICAgIG5vdGlfbGlzdDogW10sCiAgICAgIHVwbG9hZDogewogICAgICAgIGFjdF9pdGVtOiBudWxsLAogICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgZmlsZTogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREYXRhOiBmdW5jdGlvbiBpbml0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIG5Qcm9ncmVzcy5zdGFydCgpOyAvL+iOt+WPlmNzcmYtdG9rZW4KCiAgICAgIGlmICh0aGlzLiRjb29raWVzLmdldCgiQ1NSRi1UT0tFTiIpID09IG51bGwpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL2Vycm9yL2NzcmYtdG9rZW7ojrflj5blpLHotKXvvIzor7fmjaLkuKrmtY/op4jlmajnmbvlvZUiCiAgICAgICAgfSk7CiAgICAgICAgblByb2dyZXNzLmRvbmUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jc3JmSGVhZGVyID0gewogICAgICAgICAgIlgtQ1NSRi1UT0tFTiI6IHRoaXMuJGNvb2tpZXMuZ2V0KCJDU1JGLVRPS0VOIikKICAgICAgICB9OwogICAgICB9IC8v6I635Y+W5ZCO56uv54mI5pysCgoKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6IGJhY2tFbmRVcmwgKyAiL2FwaS91c2VyL3ZlcnNpb24iCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gMCkgewogICAgICAgICAgX3RoaXMudmVyc2lvbiA9IHJlcy5kYXRhLmRhdGEudmVyc2lvbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmVycm9yKGVycm9yKTsKICAgICAgfSk7IC8v6I635Y+W5rS75Yqo5L+h5oGvCgogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL3VzZXIvYWN0L2luZm8iCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gMCkgewogICAgICAgICAgX3RoaXMuYWN0X2luZm8gPSByZXMuZGF0YS5kYXRhOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5kYXRhLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICAgIF90aGlzLnNpZ25fYnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzLnNpZ25fYnRuLnRleHQgPSAi562+5YiwIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnNpZ25fYnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMuc2lnbl9idG4udGV4dCA9ICLlt7Lnrb7liLAiOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IoZXJyb3IpOwogICAgICB9KTsgLy/ojrflj5bkuKrkurrkv6Hmga8KCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiBiYWNrRW5kVXJsICsgIi9hcGkvdXNlci9wcm9maWxlIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyDlpITnkIbmiJDlip/mg4XlhrUKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICAgIF90aGlzLm15SW5mbyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyDlpITnkIbplJnor6/mg4XlhrUKICAgICAgICBfdGhpcy5lcnJvcihlcnJvcik7CiAgICAgIH0pOyAvL+iOt+WPluWPguS4juiusOW9lQoKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6IGJhY2tFbmRVcmwgKyAiL2FwaS91c2VyL2FjdC9sb2ciLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZTogMQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5aSE55CG5oiQ5Yqf5oOF5Ya1CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICBfdGhpcy5teUFjdExvZyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyDlpITnkIbplJnor6/mg4XlhrUKICAgICAgICBfdGhpcy5lcnJvcihlcnJvcik7CiAgICAgIH0pOyAvL+iOt+WPlumhtue9ruS/oeaBrwoKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6IGJhY2tFbmRVcmwgKyAiL2FwaS91c2VyL25vdGkvZmV0Y2giCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gMCkgewogICAgICAgICAgX3RoaXMubm90aV9saXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICAgIG5Qcm9ncmVzcy5kb25lKCk7CiAgICB9LAogICAgdXBsb2FkX3NpZ25pbjogZnVuY3Rpb24gdXBsb2FkX3NpZ25pbigpIHsKICAgICAgaWYgKHRoaXMudXBsb2FkLmFjdF9pdGVtID09IG51bGwpIHsKICAgICAgICB0aGlzLmVycm9yKCLmnKrpgInmi6nmtLvliqgiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgcGFyYW0uYXBwZW5kKCJmaWxlIiwgdGhpcy51cGxvYWQuZmlsZSk7CiAgICAgIHRoaXMudXBsb2FkLmxvYWRpbmcgPSB0cnVlOyAvL+S4iuS8oOaWh+S7tgoKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOiBiYWNrRW5kVXJsICsgIi9hcGkvdXNlci9hY3QvdXBsb2FkP2FjdF90b2tlbj0iICsgX3RoaXMudXBsb2FkLmFjdF9pdGVtLmFjdF90b2tlbiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiWC1DU1JGLVRPS0VOIjogX3RoaXMuJGNvb2tpZXMuZ2V0KCJDU1JGLVRPS0VOIiksCiAgICAgICAgICAiQ29udGVudC10eXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGE7Y2hhcnNldDp1dGYtOCIKICAgICAgICB9LAogICAgICAgIGRhdGE6IHBhcmFtCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gMCkgewogICAgICAgICAgdmFyIHVwbG9hZF90ayA9IHJlcy5kYXRhLmRhdGEudXBsb2FkX3Rva2VuOyAvL+aZrumAmuetvuWIsOaOpeWPowoKICAgICAgICAgIF90aGlzLmF4aW9zKHsKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL3VzZXIvYWN0L3NpZ25pbiIsCiAgICAgICAgICAgIGhlYWRlcnM6IF90aGlzLmNzcmZIZWFkZXIsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBhY3RfdG9rZW46IF90aGlzLnVwbG9hZC5hY3RfaXRlbS5hY3RfdG9rZW4sCiAgICAgICAgICAgICAgdXBsb2FkX3Rva2VuOiB1cGxvYWRfdGsKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzLnVwbG9hZC5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMudXBsb2FkLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gMCkgewogICAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MocmVzLmRhdGEuZGF0YS50ZXh0KTsKCiAgICAgICAgICAgICAgX3RoaXMuaW5pdERhdGEoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3IoZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yKHJlcy5kYXRhLm1zZyk7CgogICAgICAgICAgX3RoaXMudXBsb2FkLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmVycm9yKGVycm9yKTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9KTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChpbmZvX2l0ZW0pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL3VzZXIvYWN0L2NhbmNlbCIsCiAgICAgICAgaGVhZGVyczogX3RoaXMuY3NyZkhlYWRlciwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBhY3RfdG9rZW46IGluZm9faXRlbS5hY3RfdG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gMCkgewogICAgICAgICAgX3RoaXMuc3VjY2VzcyhyZXMuZGF0YS5tc2cpOwoKICAgICAgICAgIF90aGlzLmluaXREYXRhKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHNpZ25pbjogZnVuY3Rpb24gc2lnbmluKGluZm9faXRlbSkgewogICAgICBpZiAoaW5mb19pdGVtLmFjdF90eXBlID09IDEpIHsKICAgICAgICB0aGlzLnVwbG9hZC5hY3RfaXRlbSA9IGluZm9faXRlbTsKICAgICAgICB0aGlzLnVwbG9hZC5kaWFsb2cgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL3VzZXIvYWN0L3NpZ25pbiIsCiAgICAgICAgaGVhZGVyczogX3RoaXMuY3NyZkhlYWRlciwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBhY3RfdG9rZW46IGluZm9faXRlbS5hY3RfdG9rZW4sCiAgICAgICAgICB1cGxvYWRfdG9rZW46ICIiCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICAgIF90aGlzLnN1Y2Nlc3MocmVzLmRhdGEuZGF0YS50ZXh0KTsKCiAgICAgICAgICBfdGhpcy5pbml0RGF0YSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICB2aWV3X3VwbG9hZDogZnVuY3Rpb24gdmlld191cGxvYWQoaW5mb19pdGVtKSB7CiAgICAgIHRoaXMudXBsb2FkX3ByZXZpZXcuaXRlbSA9IGluZm9faXRlbTsKICAgICAgdGhpcy51cGxvYWRfcHJldmlldy5vcGVuID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRfc3RzOiBmdW5jdGlvbiBnZXRfc3RzKGluZm9faXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvL+iOt+WPlue7n+iuoeaVsOaNrgoKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiBiYWNrRW5kVXJsICsgIi9hcGkvdXNlci9hY3Qvc3RhdGlzdGljIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGFjdF90b2tlbjogaW5mb19pdGVtLmFjdF90b2tlbgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5aSE55CG5oiQ5Yqf5oOF5Ya1CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICBfdGhpcy5zdHMuZG9uZSA9IHJlcy5kYXRhLmRhdGEuZG9uZTsKICAgICAgICAgIF90aGlzLnN0cy50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWw7CiAgICAgICAgICBfdGhpcy5zdHMudW5maW5pc2hlZF9saXN0ID0gcmVzLmRhdGEuZGF0YS51bmZpbmlzaGVkX2xpc3Q7CiAgICAgICAgICBfdGhpcy5zdHMuZmluaXNoZWRfbGlzdCA9IHJlcy5kYXRhLmRhdGEuZmluaXNoZWRfbGlzdDsKICAgICAgICAgIF90aGlzLnN0c19kaWFsb2cgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy8g5aSE55CG6ZSZ6K+v5oOF5Ya1CiAgICAgICAgX3RoaXMuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL2xvZ291dCIsCiAgICAgICAgaGVhZGVyczogX3RoaXMuY3NyZkhlYWRlcgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJodHRwczovL2FjY291bnQucm95MjMzLmNvbS9sb2dvdXQiOwogICAgICAgICAgfSwgMTAwMCk7CgogICAgICAgICAgX3RoaXMuc3VjY2Vzcygi5Y2z5bCG55m75Ye6Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZV9ub3RpOiBmdW5jdGlvbiBjaGFuZ2Vfbm90aSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiBiYWNrRW5kVXJsICsgIi9hcGkvdXNlci9ub3RpL2dldCIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICBfdGhpcy5ub3RpX3R5cGUgPSByZXMuZGF0YS5kYXRhLm5vdGlfdHlwZTsKICAgICAgICAgIF90aGlzLmNoYW5nZV9ub3RpX2RpYWxvZyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdF9ub3RpX3R5cGU6IGZ1bmN0aW9uIHN1Ym1pdF9ub3RpX3R5cGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6IGJhY2tFbmRVcmwgKyAiL2FwaS91c2VyL25vdGkvZWRpdCIsCiAgICAgICAgaGVhZGVyczogX3RoaXMuY3NyZkhlYWRlciwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBub3RpX3R5cGU6IF90aGlzLm5vdGlfdHlwZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICBfdGhpcy5zdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKCiAgICAgICAgICBfdGhpcy5jaGFuZ2Vfbm90aV9kaWFsb2cgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgdmlld19hY3RfaW5mbzogZnVuY3Rpb24gdmlld19hY3RfaW5mbyhpdGVtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL3VzZXIvYWN0L3F1ZXJ5IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGFjdF90b2tlbjogaXRlbS5hY3RfdG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT0gMCkgewogICAgICAgICAgX3RoaXMuYWN0UXVlcnkgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgX3RoaXMuYWN0UXVlcnlEaWFsb2cgPSB0cnVlOyAvL+aJk+W8gGRpYWxvZwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBiaW5kX3dlY2hhdDogZnVuY3Rpb24gYmluZF93ZWNoYXQoKSB7CiAgICAgIGlmICh0aGlzLndlY2hhdF9iaW5kX2RhdGEudGltZXIpIHsKICAgICAgICB0aGlzLmJpbmRfd2VjaGF0X2RpYWxvZyA9IGZhbHNlOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy53ZWNoYXRfYmluZF9kYXRhLnRpbWVyKTsKICAgICAgICB0aGlzLndlY2hhdF9iaW5kX2RhdGEudGltZXIgPSBudWxsOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiBiYWNrRW5kVXJsICsgIi9hcGkvdXNlci93ZWNoYXQvcXJjb2RlIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyDlpITnkIbmiJDlip/mg4XlhrUKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICAgIF90aGlzLndlY2hhdF9iaW5kX2RhdGEucXJjb2RlX3VybCA9IHJlcy5kYXRhLmRhdGEucXJjb2RlX3VybDsKICAgICAgICAgIF90aGlzLndlY2hhdF9iaW5kX2RhdGEudG9rZW4gPSByZXMuZGF0YS5kYXRhLnRva2VuOwogICAgICAgICAgX3RoaXMuYmluZF93ZWNoYXRfZGlhbG9nID0gdHJ1ZTsKICAgICAgICAgIF90aGlzLndlY2hhdF9iaW5kX2RhdGEudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLmJpbmRfd2VjaGF0X3F1ZXJ5KCk7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIOWkhOeQhumUmeivr+aDheWGtQogICAgICAgIF90aGlzLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgYmluZF93ZWNoYXRfcXVlcnk6IGZ1bmN0aW9uIGJpbmRfd2VjaGF0X3F1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICB1cmw6IGJhY2tFbmRVcmwgKyAiL2FwaS91c2VyL3dlY2hhdC9iaW5kIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHRva2VuOiBfdGhpcy53ZWNoYXRfYmluZF9kYXRhLnRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAxKSB7CiAgICAgICAgICBfdGhpcy5zdWNjZXNzKCLnu5HlrprmiJDlip8iKTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAtMSkgewogICAgICAgICAgX3RoaXMuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmJpbmRfd2VjaGF0X2RpYWxvZyA9IGZhbHNlOwogICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMud2VjaGF0X2JpbmRfZGF0YS50aW1lcik7CiAgICAgICAgX3RoaXMud2VjaGF0X2JpbmRfZGF0YS50aW1lciA9IG51bGw7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgbm90aV9jaGVjazogZnVuY3Rpb24gbm90aV9jaGVjayhpdGVtKSB7CiAgICAgIG5Qcm9ncmVzcy5zdGFydCgpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL3VzZXIvbm90aS9jaGVjayIsCiAgICAgICAgaGVhZGVyczogX3RoaXMuY3NyZkhlYWRlciwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB0b2tlbjogaXRlbS50b2tlbgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICBfdGhpcy5pbml0RGF0YSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgICAgblByb2dyZXNzLmRvbmUoKTsKICAgIH0sCiAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHRleHQpIHsKICAgICAgdGhpcy5kaWFsb2cub3BlbiA9IHRydWU7CiAgICAgIHRoaXMuZGlhbG9nLnRpdGxlID0gIuaIkOWKnyI7CiAgICAgIHRoaXMuZGlhbG9nLnRleHQgPSB0ZXh0OwogICAgfSwKICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcih0ZXh0KSB7CiAgICAgIHRoaXMuZGlhbG9nLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLmRpYWxvZy50aXRsZSA9ICLlpLHotKUiOwogICAgICB0aGlzLmRpYWxvZy50ZXh0ID0gdGV4dDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBncm91cDogZnVuY3Rpb24gZ3JvdXAoKSB7CiAgICAgIG5Qcm9ncmVzcy5zdGFydCgpOwogICAgICB0aGlzLmRyYXdlciA9IGZhbHNlOwogICAgICBuUHJvZ3Jlc3MuZG9uZSgpOwogICAgfSwKICAgIGxvZ19wYWdlOiBmdW5jdGlvbiBsb2dfcGFnZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsgLy/ojrflj5blj4LkuI7orrDlvZUKCgogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogYmFja0VuZFVybCArICIvYXBpL3VzZXIvYWN0L2xvZyIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlOiBfdGhpcy5sb2dfcGFnZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5aSE55CG5oiQ5Yqf5oOF5Ya1CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICBfdGhpcy5teUFjdExvZyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyDlpITnkIbplJnor6/mg4XlhrUKICAgICAgICBfdGhpcy5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkoBA;AACA;AACA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,iBADA;AAEAC,mBAFA;AAGAC,cAHA;AAIAC,iBAJA;AAKAC;AACAC,mBADA;AAEAC,iBAFA;AAGAC;AAHA,OALA;AAUAC,+BAVA;AAWAC,2BAXA;AAYAC,+BAZA;AAaAC,uBAbA;AAcAC;AACAP,mBADA;AAEAQ;AAFA,OAdA;AAkBAC;AACAC,gBADA;AAEAC,eACA;AACAC,uBADA;AAEAC,sBAFA;AAGAC,8BAHA;AAIAC,qBAJA;AAKAC,qBALA;AAMAC,yBANA;AAOAC,wBAPA;AAQAC,sBARA;AASAC,mBATA;AAUAC,uBAVA;AAWAC;AACAC,yBADA;AAEAC,wBAFA;AAGAC;AAHA,WAXA;AAgBAC;AACAC,0BADA;AAEAC,oBAFA;AAGAC,uBAHA;AAIAC;AAJA;AAhBA,SADA;AAFA,OAlBA;AA8CAC;AACAC,sBADA;AAEA9B;AAFA,OA9CA;AAkDA+B;AACAC,eADA;AAEAxB,gBAFA;AAGAyB,2BAHA;AAIAC;AAJA,OAlDA;AAwDAC;AACAC,kBADA;AAEAC,qBAFA;AAGAC,iBAHA;AAIAC,sBAJA;AAKAC,sBALA;AAMAC;AANA,OAxDA;AAgEAC;AAAAlC;AAAA,OAhEA;AAiEAmC,iBAjEA;AAkEAC,uBAlEA;AAmEAC;AACAtD,gBADA;AAEAuD,wBAFA;AAGAC,sBAHA;AAIAC,eAJA;AAKAhC,sBALA;AAMAC,oBANA;AAOAgC,uBAPA;AAQAC,uBARA;AASAC;AATA,OAnEA;AA8EAC;AACAC,oBADA;AAEAC,sBAFA;AAGAC;AAHA,OA9EA;AAmFAC,uBAnFA;AAoFAC,oBApFA;AAqFAC,mBArFA;AAsFAlC;AACAmC,sBADA;AAEA9D,qBAFA;AAGA+D,sBAHA;AAIAC;AAJA;AAtFA;AA6FA,GAhGA;AAiGAC;AACA;AACA,GAnGA;AAoGAC;AACAC;AACA;;AACAC,wBAFA,CAGA;;AACA;AACA;AACAC;AADA;AAGAD;AACA;AACA,OANA,MAMA;AACA;AAAA;AAAA;AACA,OAZA,CAcA;;;AACA;AACAE,qBADA;AAEAC;AAFA,SAIAC,IAJA,CAIA;AACA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;AACA,OAVA,EAWAC,KAXA,CAWA;AACAD;AACA,OAbA,EAfA,CA8BA;;AACA;AACAH,qBADA;AAEAC;AAFA,SAIAC,IAJA,CAIA;AACA;AACAC;;AACA;AACAA;AACAA;AACA,WAHA,MAGA;AACAA;AACAA;AACA;AACA,SATA,MASA;AACAA;AACA;AACA,OAjBA,EAkBAC,KAlBA,CAkBA;AACAD;AACA,OApBA,EA/BA,CAqDA;;AACA;AACAH,qBADA;AAEAC;AAFA,SAIAC,IAJA,CAIA;AACA;AACA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;AACA,OAXA,EAYAC,KAZA,CAYA;AACA;AACAD;AACA,OAfA,EAtDA,CAuEA;;AACA;AACAH,qBADA;AAEAC,6CAFA;AAGAI;AACAC;AADA;AAHA,SAOAJ,IAPA,CAOA;AACA;AACA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;AACA,OAdA,EAeAC,KAfA,CAeA;AACA;AACAD;AACA,OAlBA,EAxEA,CA4FA;;AACA;AACAH,qBADA;AAEAC;AAFA,SAIAC,IAJA,CAIA;AACA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;AACA,OAVA,EAWAC,KAXA,CAWA;AACAD;AACA,OAbA;AAcAL;AACA,KA7GA;AA8GAS;AACA;AACA;AACA;AACA;;AAEA;;AACA;AACAC;AACA,iCATA,CAWA;;AACA;AACAR,sBADA;AAEAC,aACAQ,aACA,iCADA,GAEAN,+BALA;AAMAO;AACA,0DADA;AAEA;AAFA,SANA;AAUArF;AAVA,SAYA6E,IAZA,CAYA;AACA;AACA,qDADA,CAGA;;AACAC,gBACAQ,KADA,CACA;AACAX,0BADA;AAEAC,oDAFA;AAGAS,qCAHA;AAIArF;AACAkB,wDADA;AAEAqE;AAFA;AAJA,WADA,EAUAV,IAVA,CAUA;AACAC;AACAA;;AACA;AACAA;;AACAA;AACA,aAHA,MAGA;AACAA;AACA;AACA,WAnBA,EAoBAC,KApBA,CAoBA;AACAD;AACA,WAtBA;AAuBA,SA3BA,MA2BA;AACAA;;AACAA;AACA;AACA;AACA,OA7CA,EA8CAC,KA9CA,CA8CA;AACAD;;AACA;AACA,OAjDA;AAkDA,KA5KA;AA6KAU;AACA;;AACA;AACAb,sBADA;AAEAC,gDAFA;AAGAS,iCAHA;AAIArF;AACAkB;AADA;AAJA,SAQA2D,IARA,CAQA;AACA;AACAC;;AACAA;AACA,SAHA,MAGA;AACAA;AACA;AACA,OAfA,EAgBAC,KAhBA,CAgBA;AACAD;AACA,OAlBA;AAmBA,KAlMA;AAmMAW;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACAd,sBADA;AAEAC,gDAFA;AAGAS,iCAHA;AAIArF;AACAkB,wCADA;AAEAqE;AAFA;AAJA,SASAV,IATA,CASA;AACA;AACAC;;AACAA;AACA,SAHA,MAGA;AACAA;AACA;AACA,OAhBA,EAiBAC,KAjBA,CAiBA;AACAD;AACA,OAnBA;AAoBA,KA9NA;AA+NAY;AACA;AACA;AACA,KAlOA;AAmOAC;AACA,uBADA,CAEA;;;AACA;AACAhB,qBADA;AAEAC,mDAFA;AAGAI;AACA9D;AADA;AAHA,SAOA2D,IAPA,CAOA;AACA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;AACA,SANA,MAMA;AACAA;AACA;AACA,OAlBA,EAmBAC,KAnBA,CAmBA;AACA;AACAD;AACA,OAtBA;AAuBA,KA7PA;AA8PAc;AACA;;AACA;AACAjB,sBADA;AAEAC,uCAFA;AAGAS;AAHA,SAKAR,IALA,CAKA;AACA;AACAgB;AACAC;AACA,WAFA,EAEA,IAFA;;AAGAhB;AACA,SALA,MAKA;AACAA;AACA;AACA,OAdA,EAeAC,KAfA,CAeA;AACAD;AACA,OAjBA;AAkBA,KAlRA;AAmRAiB;AACA;;AACA;AACApB,qBADA;AAEAC;AAFA,SAIAC,IAJA,CAIA;AACA;AACAC;AACAA;AACA,SAHA,MAGA;AACAA;AACA;AACA,OAXA,EAYAC,KAZA,CAYA;AACAD;AACA,OAdA;AAeA,KApSA;AAqSAkB;AACA;;AACA;AACArB,sBADA;AAEAC,+CAFA;AAGAS,iCAHA;AAIArF;AACAoD;AADA;AAJA,SAQAyB,IARA,CAQA;AACA;AACAC;;AACAA;AACA,SAHA,MAGA;AACAA;AACA;AACA,OAfA,EAgBAC,KAhBA,CAgBA;AACAD;AACA,OAlBA;AAmBA,KA1TA;AA2TAmB;AACA;;AACA;AACAtB,qBADA;AAEAC,+CAFA;AAGAI;AACA9D;AADA;AAHA,SAOA2D,IAPA,CAOA;AACA;AACAC;AACAA,sCAFA,CAGA;AACA,SAJA,MAIA;AACAA;AACA;AACA,OAfA,EAgBAC,KAhBA,CAgBA;AACAD;AACA,OAlBA;AAmBA,KAhVA;AAiVAoB;AACA;AACA;AACAC;AACA;AACA;AACA;;AACA;;AACA;AACAxB,qBADA;AAEAC;AAFA,SAIAC,IAJA,CAIA;AACA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;AACA,WAFA,EAEA,IAFA;AAGA,SAPA,MAOA;AACAA;AACA;AACA,OAhBA,EAiBAC,KAjBA,CAiBA;AACA;AACAD;AACA,OApBA;AAqBA,KA9WA;AA+WAsB;AACA;;AACA;AACAzB,qBADA;AAEAC,iDAFA;AAGAI;AACAjB;AADA;AAHA,SAOAc,IAPA,CAOA;AACA;AACA;AACA,SAFA,MAEA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;;AACAA;AACAqB;AACArB;AACA,OAlBA,EAmBAC,KAnBA,CAmBA;AACAD;AACA,OArBA;AAsBA,KAvYA;AAwYAuB;AACA5B;;AACA;;AACA;AACAE,sBADA;AAEAC,gDAFA;AAGAS,iCAHA;AAIArF;AACA+D;AADA;AAJA,SAQAc,IARA,CAQA;AACA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;AACA,OAdA,EAeAC,KAfA,CAeA;AACAD;AACA,OAjBA;AAkBAL;AACA,KA9ZA;AA+ZA6B;AACA;AACA;AACA;AACA,KAnaA;AAoaAC;AACA;AACA;AACA;AACA;AAxaA,GApGA;AA8gBAC;AACArG;AACAsE;AACA;AACAA;AACA,KALA;AAMAtB;AACA,uBADA,CAEA;;;AACA;AACAwB,qBADA;AAEAC,6CAFA;AAGAI;AACAC;AADA;AAHA,SAOAJ,IAPA,CAOA;AACA;AACA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;AACA,OAdA,EAeAC,KAfA,CAeA;AACA;AACAD;AACA,OAlBA;AAmBA;AA5BA;AA9gBA","names":["name","data","navi_bar","drawer","group","badge","dialog","open","title","text","change_noti_dialog","actQueryDialog","bind_wechat_dialog","sts_dialog","upload_preview","item","act_info","total","list","act_token","act_name","act_announcement","act_pic","act_type","noti_enabled","begin_time","end_time","status","statistic","file_options","allow_ext","max_size","note","upload","enabled","type","img_url","download_url","sign_btn","disabled","sts","done","unfinished_list","finished_list","myInfo","user_id","user_name","email","class_name","class_code","is_admin","myActLog","log_page","noti_type","actQuery","announcement","cheer_text","pic","create_time","update_time","create_by","wechat_bind_data","timer","qrcode_url","token","version","csrfHeader","noti_list","act_item","loading","file","mounted","methods","initData","nProgress","path","method","url","then","_this","catch","params","page","upload_signin","param","backEndUrl","headers","axios","upload_token","cancel","signin","view_upload","get_sts","logout","setTimeout","window","change_noti","submit_noti_type","view_act_info","bind_wechat","clearInterval","bind_wechat_query","noti_check","success","error","watch"],"sourceRoot":"src/components/User","sources":["Index.vue"],"sourcesContent":["<template>\n  <div>\n    <v-app>\n      <!-- 菜单 -->\n      <v-navigation-drawer app v-model=\"drawer\">\n        <v-list-item>\n          <v-list-item-content>\n            <v-list-item-title class=\"text-h6\"> 功能菜单 </v-list-item-title>\n            <v-list-item-subtitle> 用户面板 </v-list-item-subtitle>\n          </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n\n        <v-list nav>\n          <v-list-item-group\n            v-model=\"group\"\n            active-class=\"deep-purple--text text--accent-4\"\n          >\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>mdi-calendar-check</v-icon>\n              </v-list-item-icon>\n              <v-list-item-title>主页</v-list-item-title>\n            </v-list-item>\n\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>mdi-calendar-search</v-icon>\n              </v-list-item-icon>\n              <v-list-item-title>签到记录</v-list-item-title>\n            </v-list-item>\n\n            <v-list-item>\n              <v-list-item-icon>\n                <v-icon>mdi-account</v-icon>\n              </v-list-item-icon>\n              <v-list-item-title>我的</v-list-item-title>\n            </v-list-item>\n\n            <v-divider></v-divider>\n\n            <v-list-item to=\"/admin\" link v-if=\"myInfo.is_admin\">\n              <v-list-item-icon>\n                <v-icon>mdi-account-tie</v-icon>\n              </v-list-item-icon>\n              <v-list-item-title>管理员面板</v-list-item-title>\n            </v-list-item>\n\n            <v-list-item @click=\"logout\" link>\n              <v-list-item-icon>\n                <v-icon>mdi-logout</v-icon>\n              </v-list-item-icon>\n              <v-list-item-title>退出登录</v-list-item-title>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </v-navigation-drawer>\n\n      <v-app-bar app>\n        <v-app-bar-nav-icon @click.stop=\"drawer = !drawer\"></v-app-bar-nav-icon>\n        <v-toolbar-title>签到系统</v-toolbar-title>\n      </v-app-bar>\n\n      <v-main>\n        <div v-if=\"noti_list.length != 0\">\n          <v-alert\n            v-for=\"(item, index) in noti_list\"\n            :key=\"index\"\n            class=\"mx-auto mt-5\"\n            max-width=\"450\"\n            dense\n            prominent\n            :type=\"item.type\"\n            transition=\"scale-transition\"\n          >\n            <v-row\n              align=\"center\"\n              v-if=\"item.noti_type == 'SYS_WAITING_ACTIVITY_NOTIFICATION'\"\n            >\n              <v-col class=\"grow\" v-html=\"item.text\">\n                \n              </v-col>\n            </v-row>\n\n            <v-row align=\"center\" v-else>\n              <v-col class=\"grow\">\n                {{ item.text }}\n              </v-col>\n              <v-col class=\"shrink\">\n                <v-btn text @click=\"noti_check(item)\">已阅</v-btn>\n              </v-col>\n            </v-row>\n          </v-alert>\n        </div>\n\n        <!-- 首页(无活动) -->\n        <v-container v-show=\"group == 0 && act_info.total == 0\" fluid>\n          <div justify=\"center\" align=\"center\" class=\"mt-6\">\n            <v-img\n              src=\"../../assets/qiqihutao.png\"\n              max-width=\"200px\"\n              class=\"mx-auto\"\n              alt=\"\"\n            ></v-img>\n            <div class=\"text-subtitle-1 grey--text\">\n              您的班级此时没有进行中的活动\n            </div>\n          </div>\n        </v-container>\n\n        <!-- 首页 -->\n        <v-container v-show=\"group == 0 && act_info.total != 0\">\n          <!--首页(有活动)-->\n\n          <v-card\n            class=\"mx-auto my-5\"\n            v-for=\"(info_item, i) in act_info.list\"\n            :key=\"i\"\n            max-width=\"450\"\n          >\n            <v-img\n              class=\"white--text align-end\"\n              height=\"200px\"\n              :src=\"info_item.act_pic\"\n              gradient=\"to top right, rgba(0,0,0,.7), rgba(240,255,255,.3)\"\n            >\n              <v-card-title class=\"font-weight-black\">\n                {{ info_item.act_name }}&nbsp;\n                <v-icon v-if=\"info_item.noti_enabled == 0\" dark\n                  >mdi-bell-off-outline</v-icon\n                >\n              </v-card-title>\n              <v-card-subtitle class=\"text-caption\">\n                {{ info_item.statistic.info }}\n              </v-card-subtitle>\n            </v-img>\n\n            <v-card-subtitle class=\"pb-0\">\n              {{ info_item.end_time }} 截止 已完成\n              {{ info_item.statistic.done }}/{{ info_item.statistic.total }}\n            </v-card-subtitle>\n\n            <v-card-text class=\"text--primary pt-5\">\n              <div>{{ info_item.act_announcement }}</div>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-btn\n                v-if=\"info_item.status == 1\"\n                @click=\"cancel(info_item)\"\n                large\n                color=\"error\"\n                plain\n              >\n                撤销签到\n              </v-btn>\n              <v-btn\n                color=\"orange\"\n                v-if=\"info_item.status == 0\"\n                @click=\"signin(info_item)\"\n                large\n                text\n              >\n                签到\n                <v-icon\n                  right\n                  dark\n                  v-if=\"info_item.act_type == 1 && info_item.status == 0\"\n                >\n                  mdi-cloud-upload\n                </v-icon>\n              </v-btn>\n              <v-btn color=\"primary\" @click=\"get_sts(info_item)\" large text>\n                完成情况\n                <v-icon right dark> mdi-chart-box </v-icon>\n              </v-btn>\n              <v-btn\n                color=\"secondary\"\n                v-if=\"info_item.act_type == 1 && info_item.status == 1\"\n                @click=\"view_upload(info_item)\"\n                large\n                text\n              >\n                我的文件\n                <v-icon right dark> mdi-cloud-search </v-icon>\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-container>\n\n        <!-- 参与记录页面 -->\n        <v-container v-show=\"group == 1\">\n          <div class=\"pa-5\">\n            <div class=\"text-h4 mb-5\">签到活动参与记录</div>\n            <div class=\"text-caption\">点击即可查看活动详情。</div>\n          </div>\n          <!--记录-->\n          <v-container v-show=\"myActLog.total == 0\" fluid>\n            <div justify=\"center\" align=\"center\" class=\"mt-6\">\n              <v-img\n                src=\"../../assets/jean_kokomi_ganyu.jpg\"\n                max-width=\"200px\"\n                class=\"mx-auto\"\n                alt=\"\"\n              ></v-img>\n              <div class=\"text-subtitle-1 grey--text\">\n                您尚未参与任何签到活动\n              </div>\n            </div>\n          </v-container>\n\n          <v-list three-line v-if=\"myActLog.total != 0\">\n            <v-pagination\n              v-model=\"log_page\"\n              :length=\"myActLog.pages_num\"\n              class=\"pa-3\"\n            ></v-pagination>\n            <template v-for=\"(item, index) in myActLog.list\">\n              <v-list-item :key=\"index\" @click=\"view_act_info(item)\">\n                <v-list-item-avatar>\n                  <v-icon>mdi-calendar-multiple-check</v-icon>\n                </v-list-item-avatar>\n                <v-list-item-content>\n                  <v-list-item-title v-html=\"item.act_name\"></v-list-item-title>\n                  <v-list-item-subtitle\n                    >参与时间：{{ item.date_time }}</v-list-item-subtitle\n                  >\n                </v-list-item-content>\n                <v-list-item-action>\n                  <v-btn icon>\n                    <v-icon color=\"grey lighten-1\">mdi-information</v-icon>\n                  </v-btn>\n                </v-list-item-action>\n              </v-list-item>\n            </template>\n          </v-list>\n        </v-container>\n\n        <!-- 个人信息页面 -->\n        <v-container v-show=\"group == 2\">\n          <!-- 个人信息 -->\n          <v-card class=\"mx-3\">\n            <v-parallax dark height=\"200px\" class=\"profile_card\">\n              <v-app-bar flat color=\"rgba(0, 0, 0, 0)\">\n                <v-toolbar-title class=\"text-h6 white--text pl-0\">\n                  个人信息\n                </v-toolbar-title>\n\n                <v-spacer></v-spacer>\n              </v-app-bar>\n\n              <v-card-title class=\"white--text mt-4\">\n                <v-avatar size=\"56\">\n                  <v-icon> mdi-account </v-icon>\n                  <!-- <img\n                  alt=\"user\"\n                  src=\"\"\n                > -->\n                </v-avatar>\n                <div class=\"text-h5 ml-3\">\n                  {{ myInfo.user_name }}\n                </div>\n                <br />\n              </v-card-title>\n              <v-card-subtitle>\n                <div class=\"d-flex flex-wrap\">\n                  <v-chip class=\"mx-2 mb-3\" color=\"Default\"\n                    >UID:{{ myInfo.user_id }}</v-chip\n                  >\n                  <v-chip class=\"mx-2 mb-3\" color=\"secondary\"\n                    >Email:{{ myInfo.email }}</v-chip\n                  >\n                  <v-chip class=\"mx-2 mb-3\" color=\"primary\"\n                    >班级:{{ myInfo.class_name }}</v-chip\n                  >\n                  <v-chip class=\"mx-2 mb-3\" color=\"orange\"\n                    >班级代码:{{ myInfo.class_code }}</v-chip\n                  >\n                  <v-chip\n                    class=\"mx-2 mb-3 white--text\"\n                    color=\"red\"\n                    v-if=\"myInfo.is_admin\"\n                    >管理员</v-chip\n                  >\n                </div>\n              </v-card-subtitle>\n            </v-parallax>\n\n            <v-list-item-group color=\"primary\">\n              <v-list-item @click=\"change_noti\" link>\n                <v-list-item-icon>\n                  <v-icon>mdi-alarm</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>修改通知方式</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n              <v-list-item @click=\"bind_wechat\" link>\n                <v-list-item-icon>\n                  <v-icon>mdi-wechat</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>绑定微信账号</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list-item-group>\n          </v-card>\n          <!-- 版本 -->\n        </v-container>\n\n        <!-- 提示框 -->\n        <v-dialog v-model=\"dialog.open\" max-width=\"500px\">\n          <v-card>\n            <v-card-title>{{ dialog.title }}</v-card-title>\n            <v-card-text>\n              {{ dialog.text }}\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"dialog.open = !dialog.open\"\n                >OK</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <!-- 活动统计数据 -->\n        <v-dialog\n          v-model=\"sts_dialog\"\n          fullscreen\n          hide-overlay\n          transition=\"dialog-bottom-transition\"\n        >\n          <v-card>\n            <v-toolbar dark color=\"info\">\n              <v-btn icon dark @click=\"sts_dialog = false\">\n                <v-icon>mdi-close</v-icon>\n              </v-btn>\n              <v-toolbar-title>活动统计数据</v-toolbar-title>\n              <v-spacer></v-spacer>\n            </v-toolbar>\n            <div class=\"pa-4\">\n              <div class=\"text-caption\">数据统计刷新存在0~10s延迟。</div>\n            </div>\n            <div\n              justify=\"center\"\n              align=\"center\"\n              class=\"ma-4\"\n              v-if=\"sts.total != sts.done\"\n            >\n              <v-img\n                src=\"../../assets/jean_kokomi_ganyu.jpg\"\n                max-width=\"200px\"\n                class=\"mx-auto\"\n                alt=\"\"\n              ></v-img>\n              <div class=\"text-subtitle-1 grey--text\">参与率未达标</div>\n            </div>\n            <v-card class=\"ma-2\">\n              <v-card-text>\n                <v-list dense class=\"pa-2\">\n                  <v-subheader>未完成</v-subheader>\n                  <v-list-item-group color=\"primary\">\n                    <v-list-item\n                      v-for=\"(item, i) in sts.unfinished_list\"\n                      :key=\"i\"\n                    >\n                      <v-list-item-icon>\n                        <v-icon v-text=\"item.id\"></v-icon>\n                      </v-list-item-icon>\n                      <v-list-item-content>\n                        <v-list-item-title\n                          v-text=\"item.name\"\n                        ></v-list-item-title>\n                      </v-list-item-content>\n                    </v-list-item>\n                  </v-list-item-group>\n\n                  <v-divider></v-divider>\n\n                  <v-subheader>已完成</v-subheader>\n                  <v-list-item-group color=\"primary\">\n                    <v-list-item\n                      v-for=\"(item, i) in sts.finished_list\"\n                      :key=\"i\"\n                    >\n                      <v-list-item-icon>\n                        <v-icon v-text=\"item.id\"></v-icon>\n                      </v-list-item-icon>\n                      <v-list-item-content>\n                        <v-list-item-title\n                          v-text=\"item.name\"\n                        ></v-list-item-title>\n                      </v-list-item-content>\n                    </v-list-item>\n                  </v-list-item-group>\n                </v-list>\n              </v-card-text>\n            </v-card>\n          </v-card>\n        </v-dialog>\n\n        <!-- 修改通知方式 -->\n        <v-dialog v-model=\"change_noti_dialog\" persistent max-width=\"600px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\">通知方式</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <!-- 表单内容 -->\n                <div class=\"text-body-1\">\n                  若您未完成签到，系统将会在活动有效期内每天中午12:30和下午6:30按照以下所选方式提醒您。\n                  <br />\n                  信息内会包含快捷登录系统的链接，请勿泄露哦。\n                </div>\n                <v-radio-group v-model=\"noti_type\" row>\n                  <v-radio label=\"关闭通知\" value=\"none\"></v-radio>\n                  <v-radio label=\"邮件通知\" value=\"email\"></v-radio>\n                  <v-radio label=\"微信通知\" value=\"wechat\"></v-radio>\n                </v-radio-group>\n                <a href=\"/test/tpl\" target=\"_blank\">通知模板</a>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"change_noti_dialog = false\"\n              >\n                关闭\n              </v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"submit_noti_type\">\n                保存\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <!-- 绑定微信 -->\n        <v-dialog v-model=\"bind_wechat_dialog\" persistent max-width=\"600px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\">绑定微信</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <!-- 内容 -->\n                <div class=\"text-body-1\">\n                  微信推送功能借助第三方平台「WxPusher」实现，关注服务号即完成绑定，系统将通过此平台向您推送通知。\n                </div>\n                <v-img\n                  :src=\"wechat_bind_data.qrcode_url\"\n                  alt=\"获取失败\"\n                  class=\"mx-auto\"\n                  max-width=\"200px\"\n                ></v-img>\n                <div class=\"text-caption text-center\">\n                  请使用微信扫描此处二维码\n                </div>\n                <!-- 内容 -->\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"bind_wechat\">\n                关闭\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <!-- 活动详情 -->\n        <v-dialog v-model=\"actQueryDialog\" max-width=\"500px\">\n          <v-card>\n            <v-card-title>{{ actQuery.name }}</v-card-title>\n            <v-card-text>\n              <div class=\"text-overline\">头图</div>\n              <v-img :src=\"actQuery.pic\" max-height=\"200px\"></v-img\n              ><v-divider></v-divider>\n              <div class=\"text-overline\">头图地址</div>\n              {{ actQuery.pic }}<v-divider></v-divider>\n              <div class=\"text-overline\">活动公告</div>\n              {{ actQuery.announcement }}<v-divider></v-divider>\n              <div class=\"text-overline\">签到完成提示语</div>\n              {{ actQuery.cheer_text }}<v-divider></v-divider>\n              <div class=\"text-overline\">活动开始时间</div>\n              {{ actQuery.begin_time }}<v-divider></v-divider>\n              <div class=\"text-overline\">活动结束时间</div>\n              {{ actQuery.end_time }}<v-divider></v-divider>\n              <div class=\"text-overline\">创建时间</div>\n              {{ actQuery.create_time }}<v-divider></v-divider>\n              <div class=\"text-overline\">更新时间</div>\n              {{ actQuery.update_time }}<v-divider></v-divider>\n              <div class=\"text-overline\">创建人</div>\n              {{ actQuery.create_by }}<v-divider></v-divider>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"actQueryDialog = !actQueryDialog\"\n                >OK</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <!-- 上传文件 -->\n        <v-dialog\n          v-model=\"upload.dialog\"\n          max-width=\"500px\"\n          v-if=\"upload.dialog == true\"\n        >\n          <v-card>\n            <v-card-title class=\"text-h5\">您需要上传文件</v-card-title>\n            <v-card-text\n              >请仔细阅读活动公告，上传所需文件。<br />请勿上传含有违反中国大陆和香港法律内容的文件。</v-card-text\n            >\n            <v-card-text>\n              <v-file-input\n                v-model=\"upload.file\"\n                placeholder=\"选择文件\"\n                prepend-icon=\"mdi-file\"\n                label=\"选择文件\"\n              ></v-file-input>\n            </v-card-text>\n            <v-card-text>\n              支持格式：{{ upload.act_item.file_options.allow_ext }} <br />\n              文件大小不超过{{ upload.act_item.file_options.max_size }} <br />\n              特殊要求：{{ upload.act_item.file_options.note }} <br />\n              文件将在服务器保存30天\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"upload.dialog = false\"\n                :disabled=\"this.upload.loading\"\n                right\n                >关闭</v-btn\n              >\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"upload_signin\"\n                :loading=\"upload.loading\"\n                right\n                >上传并签到</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <!-- 文件预览 -->\n        <v-dialog\n          v-model=\"upload_preview.open\"\n          max-width=\"500px\"\n          v-if=\"upload_preview.open == true\"\n        >\n          <v-card>\n            <v-card-title class=\"text-h5\">文件预览</v-card-title>\n            <v-card-text v-if=\"upload_preview.item.upload.type == 'image'\">\n              <!-- 图片展示 -->\n              <v-img\n                max-width=\"400\"\n                class=\"ma-auto\"\n                :src=\"upload_preview.item.upload.img_url\"\n              >\n                <template v-slot:placeholder>\n                  <v-row\n                    class=\"fill-height ma-0\"\n                    align=\"center\"\n                    justify=\"center\"\n                  >\n                    <v-progress-circular\n                      indeterminate\n                      color=\"blue\"\n                    ></v-progress-circular>\n                  </v-row>\n                </template>\n              </v-img>\n            </v-card-text>\n            <v-card-text v-if=\"upload_preview.item.upload.type == 'other'\">\n              <!-- 下载 -->\n              <v-btn\n                depressed\n                :href=\"upload_preview.item.upload.download_url\"\n                target=\"_blank\"\n                >下载</v-btn\n              >\n            </v-card-text>\n            <v-card-text>\n              文件若上传错误可以点击“撤销签到”并重新上传。\n              <br />\n              图片/文件下载临时地址有效期为5分钟。\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"upload_preview.open = false\"\n                right\n                >关闭</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-main>\n\n      <v-footer app>\n        <!-- -->\n        <div class=\"text-caption py-3\">\n          {{ version }} &copy;2021 ROY233<br /><a\n            href=\"https://github.com/rroy233/signin-helper\"\n            class=\"text-decoration-none\"\n            target=\"_blank\"\n            >Github</a\n          >\n          |\n          <a\n            href=\"https://github.com/rroy233/signin-helper/blob/main/CHANGELOG.md\"\n            class=\"text-decoration-none\"\n            target=\"_blank\"\n            >更新日志</a\n          >\n        </div>\n      </v-footer>\n    </v-app>\n  </div>\n</template>\n\n<script>\nconst backEndUrl = process.env.VUE_APP_API_URL;\nimport nProgress from \"nprogress\";\nexport default {\n  name: \"UserIndex\",\n  data() {\n    return {\n      navi_bar: 0,\n      drawer: false,\n      group: 0,\n      badge: true,\n      dialog: {\n        open: false,\n        title: \"\",\n        text: \"\",\n      },\n      change_noti_dialog: false,\n      actQueryDialog: false,\n      bind_wechat_dialog: false,\n      sts_dialog: false,\n      upload_preview: {\n        open: false,\n        item: null,\n      },\n      act_info: {\n        total: 0,\n        list: [\n          {\n            act_token: \"\",\n            act_name: \"\",\n            act_announcement: \"\",\n            act_pic: \"\",\n            act_type: 0,\n            noti_enabled: 0,\n            begin_time: \"\",\n            end_time: \"\",\n            status: 1,\n            statistic: {},\n            file_options: {\n              allow_ext: \"\",\n              max_size: \"\",\n              note: \"\",\n            },\n            upload: {\n              enabled: false,\n              type: \"\",\n              img_url: \"\",\n              download_url: \"\",\n            },\n          },\n        ],\n      },\n      sign_btn: {\n        disabled: true,\n        text: \"签到\",\n      },\n      sts: {\n        done: 0,\n        total: 0,\n        unfinished_list: [],\n        finished_list: [],\n      },\n      myInfo: {\n        user_id: 0,\n        user_name: \"\",\n        email: \"\",\n        class_name: \"\",\n        class_code: \"\",\n        is_admin: 0,\n      },\n      myActLog: { total: 0 },\n      log_page: 1,\n      noti_type: \"none\",\n      actQuery: {\n        name: \"\",\n        announcement: \"\",\n        cheer_text: \"\",\n        pic: \"\",\n        begin_time: \"\",\n        end_time: \"\",\n        create_time: \"\",\n        update_time: \"\",\n        create_by: \"\",\n      },\n      wechat_bind_data: {\n        timer: false,\n        qrcode_url: \"\",\n        token: \"\",\n      },\n      version: \"DevEnv\",\n      csrfHeader: {},\n      noti_list: [],\n      upload: {\n        act_item: null,\n        dialog: false,\n        loading: false,\n        file: null,\n      },\n    };\n  },\n  mounted: function () {\n    this.initData();\n  },\n  methods: {\n    initData: function () {\n      let _this = this;\n      nProgress.start();\n      //获取csrf-token\n      if (this.$cookies.get(\"CSRF-TOKEN\") == null) {\n        this.$router.push({\n          path: \"/error/csrf-token获取失败，请换个浏览器登录\",\n        });\n        nProgress.done();\n        return;\n      } else {\n        this.csrfHeader = { \"X-CSRF-TOKEN\": this.$cookies.get(\"CSRF-TOKEN\") };\n      }\n\n      //获取后端版本\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/version\",\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.version = res.data.data.version;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n\n      //获取活动信息\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/act/info\",\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.act_info = res.data.data;\n            if (res.data.data.status == 0) {\n              _this.sign_btn.disabled = false;\n              _this.sign_btn.text = \"签到\";\n            } else {\n              _this.sign_btn.disabled = true;\n              _this.sign_btn.text = \"已签到\";\n            }\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n\n      //获取个人信息\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/profile\",\n      })\n        .then(function (res) {\n          // 处理成功情况\n          if (res.data.status == 0) {\n            _this.myInfo = res.data.data;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          // 处理错误情况\n          _this.error(error);\n        });\n\n      //获取参与记录\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/act/log\",\n        params: {\n          page: 1,\n        },\n      })\n        .then(function (res) {\n          // 处理成功情况\n          if (res.data.status == 0) {\n            _this.myActLog = res.data.data;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          // 处理错误情况\n          _this.error(error);\n        });\n\n      //获取顶置信息\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/noti/fetch\",\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.noti_list = res.data.data;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n      nProgress.done();\n    },\n    upload_signin: function () {\n      if (this.upload.act_item == null) {\n        this.error(\"未选择活动\");\n        return;\n      }\n\n      let _this = this;\n      let param = new FormData();\n      param.append(\"file\", this.upload.file);\n      this.upload.loading = true;\n\n      //上传文件\n      this.axios({\n        method: \"post\",\n        url:\n          backEndUrl +\n          \"/api/user/act/upload?act_token=\" +\n          _this.upload.act_item.act_token,\n        headers: {\n          \"X-CSRF-TOKEN\": _this.$cookies.get(\"CSRF-TOKEN\"),\n          \"Content-type\": \"multipart/form-data;charset:utf-8\",\n        },\n        data: param,\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            let upload_tk = res.data.data.upload_token;\n\n            //普通签到接口\n            _this\n              .axios({\n                method: \"post\",\n                url: backEndUrl + \"/api/user/act/signin\",\n                headers: _this.csrfHeader,\n                data: {\n                  act_token: _this.upload.act_item.act_token,\n                  upload_token: upload_tk,\n                },\n              })\n              .then(function (res) {\n                _this.upload.dialog = false;\n                _this.upload.loading = false;\n                if (res.data.status == 0) {\n                  _this.success(res.data.data.text);\n                  _this.initData();\n                } else {\n                  _this.error(res.data.msg);\n                }\n              })\n              .catch(function (error) {\n                _this.error(error);\n              });\n          } else {\n            _this.error(res.data.msg);\n            _this.upload.loading = false;\n            return;\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n          return;\n        });\n    },\n    cancel: function (info_item) {\n      let _this = this;\n      this.axios({\n        method: \"post\",\n        url: backEndUrl + \"/api/user/act/cancel\",\n        headers: _this.csrfHeader,\n        data: {\n          act_token: info_item.act_token,\n        },\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.success(res.data.msg);\n            _this.initData();\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n    },\n    signin: function (info_item) {\n      if (info_item.act_type == 1) {\n        this.upload.act_item = info_item;\n        this.upload.dialog = true;\n        return;\n      }\n      let _this = this;\n      this.axios({\n        method: \"post\",\n        url: backEndUrl + \"/api/user/act/signin\",\n        headers: _this.csrfHeader,\n        data: {\n          act_token: info_item.act_token,\n          upload_token: \"\",\n        },\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.success(res.data.data.text);\n            _this.initData();\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n    },\n    view_upload: function (info_item) {\n      this.upload_preview.item = info_item;\n      this.upload_preview.open = true;\n    },\n    get_sts: function (info_item) {\n      let _this = this;\n      //获取统计数据\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/act/statistic\",\n        params: {\n          act_token: info_item.act_token,\n        },\n      })\n        .then(function (res) {\n          // 处理成功情况\n          if (res.data.status == 0) {\n            _this.sts.done = res.data.data.done;\n            _this.sts.total = res.data.data.total;\n            _this.sts.unfinished_list = res.data.data.unfinished_list;\n            _this.sts.finished_list = res.data.data.finished_list;\n            _this.sts_dialog = true;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          // 处理错误情况\n          _this.error(error);\n        });\n    },\n    logout: function () {\n      let _this = this;\n      this.axios({\n        method: \"post\",\n        url: backEndUrl + \"/api/logout\",\n        headers: _this.csrfHeader,\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            setTimeout(function () {\n              window.location.href = \"https://account.roy233.com/logout\";\n            }, 1000);\n            _this.success(\"即将登出\");\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n    },\n    change_noti: function () {\n      let _this = this;\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/noti/get\",\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.noti_type = res.data.data.noti_type;\n            _this.change_noti_dialog = true;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n    },\n    submit_noti_type: function () {\n      let _this = this;\n      this.axios({\n        method: \"post\",\n        url: backEndUrl + \"/api/user/noti/edit\",\n        headers: _this.csrfHeader,\n        data: {\n          noti_type: _this.noti_type,\n        },\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.success(\"修改成功\");\n            _this.change_noti_dialog = false;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n    },\n    view_act_info: function (item) {\n      let _this = this;\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/act/query\",\n        params: {\n          act_token: item.act_token,\n        },\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.actQuery = res.data.data;\n            _this.actQueryDialog = true;\n            //打开dialog\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n    },\n    bind_wechat: function () {\n      if (this.wechat_bind_data.timer) {\n        this.bind_wechat_dialog = false;\n        clearInterval(this.wechat_bind_data.timer);\n        this.wechat_bind_data.timer = null;\n        return;\n      }\n      let _this = this;\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/wechat/qrcode\",\n      })\n        .then(function (res) {\n          // 处理成功情况\n          if (res.data.status == 0) {\n            _this.wechat_bind_data.qrcode_url = res.data.data.qrcode_url;\n            _this.wechat_bind_data.token = res.data.data.token;\n            _this.bind_wechat_dialog = true;\n            _this.wechat_bind_data.timer = setInterval(function () {\n              _this.bind_wechat_query();\n            }, 3000);\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          // 处理错误情况\n          _this.error(error);\n        });\n    },\n    bind_wechat_query: function () {\n      let _this = this;\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/wechat/bind\",\n        params: {\n          token: _this.wechat_bind_data.token,\n        },\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            return;\n          } else if (res.data.status == 1) {\n            _this.success(\"绑定成功\");\n          } else if (res.data.status == -1) {\n            _this.error(res.data.msg);\n          }\n          _this.bind_wechat_dialog = false;\n          clearInterval(_this.wechat_bind_data.timer);\n          _this.wechat_bind_data.timer = null;\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n    },\n    noti_check: function (item) {\n      nProgress.start();\n      let _this = this;\n      this.axios({\n        method: \"post\",\n        url: backEndUrl + \"/api/user/noti/check\",\n        headers: _this.csrfHeader,\n        data: {\n          token: item.token,\n        },\n      })\n        .then(function (res) {\n          if (res.data.status == 0) {\n            _this.initData();\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          _this.error(error);\n        });\n      nProgress.done();\n    },\n    success: function (text) {\n      this.dialog.open = true;\n      this.dialog.title = \"成功\";\n      this.dialog.text = text;\n    },\n    error: function (text) {\n      this.dialog.open = true;\n      this.dialog.title = \"失败\";\n      this.dialog.text = text;\n    },\n  },\n  watch: {\n    group: function () {\n      nProgress.start();\n      this.drawer = false;\n      nProgress.done();\n    },\n    log_page: function () {\n      let _this = this;\n      //获取参与记录\n      this.axios({\n        method: \"get\",\n        url: backEndUrl + \"/api/user/act/log\",\n        params: {\n          page: _this.log_page,\n        },\n      })\n        .then(function (res) {\n          // 处理成功情况\n          if (res.data.status == 0) {\n            _this.myActLog = res.data.data;\n          } else {\n            _this.error(res.data.msg);\n          }\n        })\n        .catch(function (error) {\n          // 处理错误情况\n          _this.error(error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.profile_card {\n  background: rgb(34, 193, 195);\n  background: linear-gradient(\n    119deg,\n    rgba(34, 193, 195, 1) 0%,\n    rgba(253, 187, 45, 1) 100%\n  );\n}\n</style>\n"]}]}